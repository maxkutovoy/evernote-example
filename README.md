# Работаем с заметками Evernote.

Программа для работы с заметками Evernote.

## Как установить:

### Установить зависимости:

Скачайте все файлы на свой компьютер. 

Установите Python3, если еще не установлен. Используйте `pip` (или `pip3`, есть
конфликт с python2) для установки зависимостей:

```
pip install -r requirements.txt
```

## Как использовать:
### Базовые настройки:
* Получите `Evernote API Key`: [на странице](https://dev.evernote.com/doc/articles/authentication.php#devtoken)
нажмите `Get an API Key` и зарегистрируйте свое приложение.

* Получите [API token](https://dev.evernote.com/doc/articles/dev_tokens.php).  
ПРИМЕЧАНИЕ: Доступны токены для тестового и обычного серверов. На этапе отладки и тестов 
рекомендуется токен для [тестового сервера](https://sandbox.evernote.com/api/DeveloperToken.action)

* На [тестовом сервере](https://sandbox.evernote.com/Registration.action) создайте блокнот для заметок,
  (далее будет использоваться название "Дневник"), а так же заметку-шаблон с заголовком 
`"Заметка {date} {dow} # шаблон"`

* Создайте файл `.env`  в папке проекта и пропишите начальные настройки в формате `КЛЮЧ=ЗНАЧЕНИЕ`
   * `SANDBOX` - выбор сервера. Для работы с тестовым сервером установите `True`.
   * `EVERNOTE_CONSUMER_KEY` - Consumer Key полученный на предыдущем шаге. 
   * `EVERNOTE_CONSUMER_SECRET` - Consumer Secret полученный на предыдущем шаге.
   * `EVERNOTE_PERSONAL_TOKEN` - Token полученный на предыдущем шаге.
   * `JOURNAL_TEMPLATE_NOTE_GUID` - ID заметки-шаблона (можно заполнить позже, см. ниже как получить ID)
   * `JOURNAL_NOTEBOOK_GUID` - ID блокнота журнала (можно заполнить позже, см. ниже как получить ID)

### Получите ID блокнота-журнала:
Для получения ID блокнота-журнала в который будем сохранять заметки в терминале введите
команду для получения списка блокнотов:
```sh
python list_notebooks.py
```
В терминал распечатается список всех блокнотов с ID:
```sh
c18071d5-83de-4288-81d8-c7fe834606cf - Первый блокнот
5f0204df-a4ce-43c8-b550-417b7525b2de - Дневник
72baca39-68d9-4b0b-80fa-7dbdff0312d5 - Второй блокнот
```
Скопируйте ID блокнота с названием "Дневник" и присвойте значение переменной `JOURNAL_NOTEBOOK_GUID` в 
файле `.env`.
```sh
JOURNAL_NOTEBOOK_GUID='5f0204df-a4ce-43c8-b550-417b7525b2de'
```

### Получите ID заметки-шаблона:
Для поучения ID заметки-шаблона запустите команду с аргументом `--notebook_id` со значением
ID блокнота в котором сохранен шаблон:
```sh
python dump_inbox.py --notebook_id '5f0204df-a4ce-43c8-b550-417b7525b2de'
```
В терминал распечатаются все заметки в данном блокноте с их ID.

```sh
--------- 1 ---------
Note id: 18504b8d-c6bd-4b3d-8463-b1f49ffaccc9
Note title: Заметка {date} {dow} # шаблон
```
Присвойте переменной `JOURNAL_TEMPLATE_NOTE_GUID` в файле `.env` ID заметки-шаблона. 

Указывая ID разных блокнотов можно получить список заметок в них. Если не указывать ID блокнота, 
то будут выводиться заметки из блокнота-журнала, указанного в переменной `JOURNAL_NOTEBOOK_GUID`.

Команда `python dump_inbox.py` так же принимает необязательный аргумент `--number`, который
указывает сколько заметок нужно выводить в терминал. По умолчанию выводиться `10` заметок.
```sh
python dump_inbox.py --number 5
```

### Добавить заметку:
Чтобы добавить заметку, введите команду:
```sh
python add_note2journal.py
```
Заметка добавляется путем копирования заметки-шаблона в блокнот-журнал. 
В качестве заголовка указывается дата с указанием дня недели.

Команда принимает 2 **необязательных** аргумента:
* `--date` - произвольная дата в формате "YYYY-MM-DD", которая будет указана в качестве заголовка 
заметки. Если дата не указана, то подставляется текущая дата.
* `--text` или `-t` - текст заметки. 


## Цель проекта:
Описание к проекту написано в образовательных целях на курсе для
web-разработчиков [dvmn.org](https://dvmn.org/). 
